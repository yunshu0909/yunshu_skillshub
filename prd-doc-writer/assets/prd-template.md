```markdown
# 产品需求文档：[项目/功能名称] - V[版本号]

## 1. 综述 (Overview)
### 1.1 项目背景与核心问题
(此处填写经你引导和用户确认的，对顶层问题的清晰描述，提供全局上下文)

### 1.2 核心业务流程 / 用户旅程地图
(此处填写经你引导和用户最终确认的、分阶段的业务流程或用户旅程，作为整个文档的目录和主线)
1.  **阶段一：[名称]** - [一句话描述该阶段的用户目标]
2.  **阶段二：[名称]** - [一句话描述该阶段的用户目标]
...

### 1.3 Mermaid 图（流程/状态/时序）
> 说明：Mermaid 图用于“需求对齐”，避免歧义；避免写成技术实现细节（不要写 API 路径、字段、HTTP code、框架/库）。

#### 1.3.1 用户操作流（必填）
```mermaid
flowchart TD
  A[开始：用户进入/触发] --> B[用户操作]
  B --> C{关键判断/分支}
  C -->|成功| D[系统反馈：成功态/跳转]
  C -->|失败/异常| E[系统反馈：错误提示/可恢复动作]
  D --> F[结束]
  E --> F
```

#### 1.3.2 状态机（当存在明确状态流转对象时必填）
```mermaid
stateDiagram-v2
  [*] --> 草稿
  草稿 --> 已提交: 提交
  已提交 --> 处理中: 开始处理
  处理中 --> 成功: 完成
  处理中 --> 失败: 失败
  失败 --> 已提交: 重试
  成功 --> [*]
```

#### 1.3.3 关键场景时序（仅当“时序/并发/重试/超时”影响用户可见结果时填写）
```mermaid
sequenceDiagram
  participant U as 用户
  participant A as App/前台
  participant S as 系统

  U->>A: 发起关键操作
  A->>S: 请求处理（抽象描述）
  alt 成功
    S-->>A: 返回成功结果/状态
    A-->>U: 展示成功反馈（文案/状态）
  else 失败/异常
    S-->>A: 返回失败原因（用户可理解）
    A-->>U: 展示错误提示 + 可恢复操作
  end
```

## 2. 用户故事详述 (User Stories)

### 阶段一：[阶段名称]

---

#### **US-[编号]: [用户故事标题，格式：作为...我希望...以便于...]**
*   **价值陈述 (Value Statement)**:
    *   **作为** [用户角色]
    *   **我希望** [完成某项操作/达到某个目的]
    *   **以便于** [实现某种价值/解决某个问题]
*   **业务规则与逻辑 (Business Logic)**:
    1.  **前置条件**: (执行此功能需要满足的前提)
    2.  **操作流程 (Happy Path)**: (一步步描述用户成功路径下的操作与系统反馈)
    3.  **异常处理 (Error Handling)**: (详细罗列各种可能出错的情况、降级/补偿策略以及对应的系统行为)
*   **验收标准 (Acceptance Criteria)**: (使用 GIVEN-WHEN-THEN 格式，为核心场景提供清晰的验收条件，至少覆盖成功与失败/异常路径)
    *   **场景1: [场景名]**
        *   **GIVEN** [上下文/前置条件]
        *   **WHEN** [用户执行的动作]
        *   **THEN** [期望看到的系统结果]
    *   **场景2: ...**
---
*   **页面布局线框图 (ASCII Wireframe)**: <!-- 对于涉及UI的故事，此项必填 -->
    ```text
    (此处插入经用户最终确认的ASCII线框图)
    ```
--- 
(下一个用户故事...)
```
